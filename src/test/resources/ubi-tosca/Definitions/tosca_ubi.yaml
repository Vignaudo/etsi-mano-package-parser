tosca_definitions_version: tosca_simple_yaml_1_0
description: >
  Sample VNF for integration testing.

imports:
  - etsi_nfv_sol001_vnfd_types.yaml

topology_template:
  node_templates:
    ubiVdo.1_0:
      type: tosca.nodes.nfv.VNF
      properties:
        descriptor_id: dcd11fbf-c767-41eb-abc9-cec35dd95bca
        provider: Ubiqube internal.
        product_name: Integration tests
        software_version: 1.0.0
        descriptor_version: 1.0.0
        flavour_id: m1.small
      requirements:
        - virtual_link: vl01

    ubi01:
      type: tosca.nodes.nfv.Vdu.Compute
      name: Ubi01
      description: A node.
      properties:
        sw_image_data:
          name: cirros
          version: 1.0.0
          checksum:
            hash: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
            algorithm: SHA-256
          container_format: BARE
          disk_format: QCOW2
          min_disk: 6 GB
          min_ram: 2 GB
          operating_system: centos8
      capabilities:
        virtual_compute:
          properties:
            virtual_memory:
              properties:
                virtual_mem_size: 2 GB
            virtual_cpu:
              properties:
                cpu_architecture: x86_64
                num_virtual_cpu: 1

    block01:
      type: tosca.nodes.nfv.Vdu.VirtualBlockStorage
      properties:
        virtual_block_storage_data:
          size_of_storage: 6 GB
        sw_image_data:
          name: imagenameBlock
          version: 1.0.0
          checksum:
            hash: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
            algorithm: SHA-256
          container_format: BARE
          disk_format: QCOW2
          min_disk: 6 GB
          min_ram: 2 GB
          operating_system: centos8

    storageVo:
      type: tosca.nodes.nfv.Vdu.VirtualObjectStorage
      properties:
        virtual_object_storage_data:
          max_size_of_storage: 6 GB

    vl01:
      type: tosca.nodes.nfv.VnfVirtualLink
      properties:
        connectivity_type:
          layer_protocols: 
            - ipv4
          flow_pattern: line
        description: Description of VL 01
        vl_profile:
          max_bitrate_requirements:
            root: 10
            leaf: 15
          min_bitrate_requirements:
            root: 11
            leaf: 16
          virtual_link_protocol_data:
          qos:
            latency: 5 ms
            packet_delay_variation: 1 s
            packet_loss_ratio: 0.01
    cp01:
      type: tosca.nodes.nfv.VduCp
      properties:
        bitrate_requirement: 5
        order: 5
        vnic_type: virtio
      requirements:
        - virtual_link:
            node: vl01
        - virtual_binding:
            node: ubi01